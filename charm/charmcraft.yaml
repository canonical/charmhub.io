name: charmhub-io

type: charm

bases:
  - build-on:
    - name: ubuntu
      channel: "22.04"
    run-on:
    - name: ubuntu
      channel: "22.04"

summary: The charm for the charmhub.io website

description: The charm for the charmhub.io website, built with the PaaS charm.

extensions:
  - flask-framework

requires:
  tracing:
    interface: tracing
    optional: true
    limit: 1
  smtp:
    interface: smtp
    optional: true
    limit: 1
  redis:
    interface: redis
    optional: true
    limit: 1

config:
  options:
    github-token:
      description: Github token used to communicate with the GitHub API.
      type: string
    login-url:
      description: The U1 SSO login url
      default: https://login.ubuntu.com
      type: string
    solutions-api-base:
      description: The base URL for the solutions service API
      default: http://solutions.staging.charmhub.io/api
      type: string
    hmac-secret:
      description: The secret containing the HMAC-key for solutions service
      type: secret
