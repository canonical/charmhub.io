{% if charm.icon %}
  {% set icon_url = charm.icon %}
{% else %}
  {% set icon_url = "https://assets.ubuntu.com/v1/be6eb412-snapcraft-missing-icon.svg" %}
{% endif %}

<div class="p-card sc-solution-charm-card" role="group">
  <div class="p-card__content">
    <div class="p-media-object u-no-margin--bottom sc-solution-charm-card__media">
      <img
        src="{{ icon_url }}"
        width="48"
        height="48"
        class="p-media-object__image"
        alt="{{ charm.display_name or charm.charm_name }}"
      />
      <div class="p-media-object__details sc-solution-charm-card__details">
        <h2 class="p-heading--5 u-no-margin--bottom">
          <a href="/{{ charm.charm_name }}" class="p-link--soft">
            {{ charm.display_name or charm.charm_name }}
          </a>
        </h2>
        <p class="u-text--muted u-no-padding--top">
          <em>{{ charm.publisher["display-name"] }}</em>
        </p>
        <p class="u-line-clamp">
          {{ charm.summary }}
        </p>
        <div class="sc-solution-charm-card__footer">
          <hr />
          <div class="sc-solution-charm-card__footer-content u-align--right">
            <div class="sc-platform">
              {% set platforms = charm["deployable-on"] %}
              {% if "kubernetes" is in(platforms) %}
                <img class="sc-platform-icon" src="https://assets.ubuntu.com/v1/f1852c07-Kubernetes.svg" width="24" height="24" alt="Kubernetes" />
              {% else %}
                <img class="sc-platform-icon" src="https://assets.ubuntu.com/v1/bf61e269-machine-badge.svg" width="24" height="24" alt="Machine" />
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>